import requests
from bs4 import BeautifulSoup


def extract_all_wisdom():
    """
    –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –≤—Å–µ—Ö —Ü–∏—Ç–∞—Ç —Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –º—É–¥—Ä–æ—Å—Ç–∏
    –ö–∞–∫ –æ–ø—ã—Ç–Ω—ã–π —Å–æ–±–∏—Ä–∞—Ç–µ–ª—å, –º—ã —Ç—â–∞—Ç–µ–ª—å–Ω–æ —Å–æ–±–µ—Ä–µ–º –∫–∞–∂–¥–æ–µ –∑–µ—Ä–Ω–æ –∑–Ω–∞–Ω–∏—è
    """

    url = "http://quotes.toscrape.com"

    print("üßò –ù–ê–ß–ò–ù–ê–Æ –í–ï–õ–ò–ö–ò–ô –°–ë–û–† –ú–£–î–†–û–°–¢–ò")
    print("=" * 60)

    try:
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –∫ –∏—Å—Ç–æ—á–Ω–∏–∫—É –º—É–¥—Ä–æ—Å—Ç–∏
        response = requests.get(url)

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –æ—Ç–∫—Ä—ã–ª–∏—Å—å –ª–∏ –≤—Ä–∞—Ç–∞ –º—É–¥—Ä–æ—Å—Ç–∏
        if response.status_code != 200:
            print(f"‚ùå –í—Ä–∞—Ç–∞ –º—É–¥—Ä–æ—Å—Ç–∏ –∑–∞–∫—Ä—ã—Ç—ã! –ö–æ–¥: {response.status_code}")
            return

        print("‚úÖ –í—Ä–∞—Ç–∞ –º—É–¥—Ä–æ—Å—Ç–∏ –æ—Ç–∫—Ä—ã—Ç—ã! –ü—Ä–∏—Å—Ç—É–ø–∞—é –∫ —Å–±–æ—Ä—É...")
        print("-" * 60)

        # –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç BeautifulSoup –¥–ª—è —á—Ç–µ–Ω–∏—è —Å–≤—è—â–µ–Ω–Ω–æ–≥–æ —Å–≤–∏—Ç–∫–∞
        soup = BeautifulSoup(response.text, 'html.parser')

        # 1. –ù–ê–•–û–î–ò–ú –í–°–ï –≠–õ–ï–ú–ï–ù–¢–´ –° –¶–ò–¢–ê–¢–ê–ú–ò
        print("üîç –ò—â—É —Å–æ—Å—É–¥—ã —Å –º—É–¥—Ä–æ—Å—Ç—å—é –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ...")
        quote_containers = soup.find_all('div', class_='quote')

        print(f"üìö –ù–∞–π–¥–µ–Ω–æ —Å–æ—Å—É–¥–æ–≤ —Å –º—É–¥—Ä–æ—Å—Ç—å—é: {len(quote_containers)}")
        print("-" * 60)

        # –ï—Å–ª–∏ —Ü–∏—Ç–∞—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –∑–∞–≤–µ—Ä—à–∞–µ–º –ø—É—Ç—å
        if not quote_containers:
            print("üíî –ù–µ –Ω–∞–π–¥–µ–Ω–æ –Ω–∏ –æ–¥–Ω–æ–≥–æ —Å–æ—Å—É–¥–∞ —Å –º—É–¥—Ä–æ—Å—Ç—å—é...")
            return

        # 2. –ò–ó–í–õ–ï–ö–ê–ï–ú –ú–£–î–†–û–°–¢–¨ –ò–ó –ö–ê–ñ–î–û–ì–û –°–û–°–£–î–ê
        wisdom_collected = 0

        for i, quote_container in enumerate(quote_containers, 1):
            print(f"üéØ –°–æ—Å—É–¥ –º—É–¥—Ä–æ—Å—Ç–∏ #{i}:")

            # –ò–ó–í–õ–ï–ö–ê–ï–ú –¢–ï–ö–°–¢ –¶–ò–¢–ê–¢–´
            # find() –∏—â–µ—Ç –ü–ï–†–í–´–ô –ø–æ–¥—Ö–æ–¥—è—â–∏–π —ç–ª–µ–º–µ–Ω—Ç –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
            quote_text_element = quote_container.find('span', class_='text')
            quote_text = quote_text_element.get_text() if quote_text_element else "–¢–µ–∫—Å—Ç –º—É–¥—Ä–æ—Å—Ç–∏ —É—Ç–µ—Ä—è–Ω"

            # –ò–ó–í–õ–ï–ö–ê–ï–ú –ê–í–¢–û–†–ê
            author_element = quote_container.find('small', class_='author')
            author = author_element.get_text() if author_element else "–ê–≤—Ç–æ—Ä –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω"

            # –ò–ó–í–õ–ï–ö–ê–ï–ú –¢–ï–ì–ò
            # find_all() –∏—â–µ—Ç –í–°–ï –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
            tag_elements = quote_container.find_all('a', class_='tag')
            tags = [tag.get_text() for tag in tag_elements] if tag_elements else []

            # 3. –í–´–í–û–î–ò–ú –†–ï–ó–£–õ–¨–¢–ê–¢ –í –ö–û–ù–°–û–õ–¨
            print(f'–¶–∏—Ç–∞—Ç–∞: {quote_text}')
            print(f'–ê–≤—Ç–æ—Ä: {author}')
            print(f'–¢–µ–≥–∏: {", ".join(tags) if tags else "–Ω–µ—Ç —Ç–µ–≥–æ–≤"}')
            print("---")

            wisdom_collected += 1

        print("=" * 60)
        print(f"üéâ –í–ï–õ–ò–ö–ò–ô –°–ë–û–† –ó–ê–í–ï–†–®–ï–ù!")
        print(f"üìñ –í—Å–µ–≥–æ —Å–æ–±—Ä–∞–Ω–æ –º—É–¥—Ä—ã—Ö –∏–∑—Ä–µ—á–µ–Ω–∏–π: {wisdom_collected}")

    except Exception as e:
        print(f"üí• –ù–∞ –ø—É—Ç–∏ –≤–æ–∑–Ω–∏–∫–ª–∞ –ø—Ä–µ–≥—Ä–∞–¥–∞: {e}")


# –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –ú–£–î–†–û–°–¢–¨: –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø find() vs find_all()
def demonstrate_find_methods():
    """
    –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–∑–Ω–∏—Ü—ã –º–µ–∂–¥—É find() –∏ find_all()
    """
    print("\n" + "üåü" * 30)
    print("–†–ê–ó–™–Ø–°–ù–ï–ù–ò–ï –ü–£–¢–ò: find() vs find_all()")
    print("üåü" * 30)

    # –°–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä HTML –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
    example_html = """
    <div class="garden">
        <flower name="—Ä–æ–∑–∞" color="–∫—Ä–∞—Å–Ω—ã–π">–ö—Ä–∞—Å–∏–≤–∞—è —Ä–æ–∑–∞</flower>
        <flower name="—Ä–æ–º–∞—à–∫–∞" color="–±–µ–ª—ã–π">–ù–µ–∂–Ω–∞—è —Ä–æ–º–∞—à–∫–∞</flower>
        <flower name="—Ç—é–ª—å–ø–∞–Ω" color="–∂–µ–ª—Ç—ã–π">–Ø—Ä–∫–∏–π —Ç—é–ª—å–ø–∞–Ω</flower>
    </div>
    """

    demo_soup = BeautifulSoup(example_html, 'html.parser')
    garden = demo_soup.find('div', class_='garden')

    print("üå∫ –ü–†–ï–î–°–¢–ê–í–¨: —É –Ω–∞—Å –µ—Å—Ç—å —Å–∞–¥ (div) —Å —Ü–≤–µ—Ç–∞–º–∏ (flower)")
    print("üìú HTML-–∫–æ–¥ —Å–∞–¥–∞:")
    print(example_html)
    print("\n" + "-" * 50)

    # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è find()
    print("1. –ú–ï–¢–û–î find() - –ù–ê–ô–¢–ò –ü–ï–†–í–´–ô –¶–í–ï–¢–û–ö:")
    first_flower = garden.find('flower')
    print(f"   üéØ find('flower') –Ω–∞—à–µ–ª: '{first_flower.get_text()}'")
    print(f"   üìù find() –í–°–ï–ì–î–ê –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –û–î–ò–ù —ç–ª–µ–º–µ–Ω—Ç (–∏–ª–∏ None)")

    # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è find_all()
    print("\n2. –ú–ï–¢–û–î find_all() - –ù–ê–ô–¢–ò –í–°–ï –¶–í–ï–¢–´:")
    all_flowers = garden.find_all('flower')
    print(f"   üéØ find_all('flower') –Ω–∞—à–µ–ª: {len(all_flowers)} —Ü–≤–µ—Ç–æ–≤")
    for flower in all_flowers:
        print(f"      - {flower.get_text()} (—Ü–≤–µ—Ç: {flower['color']})")
    print("   üìù find_all() –í–°–ï–ì–î–ê –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –°–ü–ò–°–û–ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤")

    print("\n" + "-" * 50)
    print("üìö –ö–õ–Æ–ß–ï–í–´–ï –û–¢–õ–ò–ß–ò–Ø:")
    print("   find() ‚Üí –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç (–∏–ª–∏ None)")
    print("   find_all() ‚Üí —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º)")
    print("   –û–ë–ê –º–µ—Ç–æ–¥–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ (class_, id, –∞—Ç—Ä–∏–±—É—Ç—ã)")


# –ó–∞–ø—É—Å–∫–∞–µ–º –Ω–∞—à —É—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–Ω—ã–π —Å–±–æ—Ä—â–∏–∫
if __name__ == "__main__":
    # –°–Ω–∞—á–∞–ª–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ–º —Ä–∞–∑–Ω–∏—Ü—É –º–µ—Ç–æ–¥–æ–≤
    demonstrate_find_methods()

    print("\n" + "üöÄ" * 30)
    print("–ü–ï–†–ï–•–û–î–ò–ú –ö –†–ï–ê–õ–¨–ù–û–ú–£ –°–ë–û–†–£ –ú–£–î–†–û–°–¢–ò")
    print("üöÄ" * 30)

    # –ó–∞—Ç–µ–º –∑–∞–ø—É—Å–∫–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Å–±–æ—Ä
    extract_all_wisdom()